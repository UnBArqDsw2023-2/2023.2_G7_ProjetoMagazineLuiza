# Reutilização de Software

## Introdução

O conceito de reutilização de software foi primeiro visto em 1968, ano no qual o termo foi utilizado para lidar com a crise de software da época: o entrave de desenvolver uma aplicação em larga escala de forma confiável, controlável e de bom custo-benefício. Para a resolução de tal vicissitude, Mcllroy propôs a utilização de um arcabouço de técnicas e componentes customizáveis que resolviam problemas de diferentes naturezas (Krueger, 1992). Portanto, entende-se por reutilização de software a resolução de adversidades por meio de frameworks, ferramentas ou bibliotecas maleáveis, as quais permitem a adaptação parcial de suas estruturas para as idiossincrasias daquela solução particular.

## Objetivo

Sendo assim, o objetivo principal da reutilização de software é evitar o retrabalho no desenvolvimento, de forma a se maximizar a produtividade, qualidade e custo-benefício no processo de software. No contexto do presente artefato, a meta foi reunir e exemplificar a aplicação desse conceito no escopo do projeto, utilizando padrões de projeto, bibliotecas, frameworks, ferramentas, entre outros recursos disponíveis.

## Metodologia

A preparação para a produção do artefato teve início na reunião documentada na [Ata 5](/atas/ata5.md), na qual se iniciaram as discussões acerca de como a reutilização de software ia ser abordada no projeto. Ao fim dessa reunião, decidiu-se que cinco duplas iriam, cada uma, escolher um padrão de projeto que se encaixe no escopo do projeto, apresentar uma problemática, a sua solução para ela, a modelagem e código de exemplo. Além do reúso por meio dos padrões de projeto, como optou-se por usar a visão de dados da arquitetura, o grupo achou válido representar também o reúso de software pela ótica de banco de dados. Ademais, a metodologia específica da elaboração de cada padrão de projeto pode ser vista em sua própria página.

## Reutilização Interna



## Reutilização Externa

### JUnit

No ano de 1997, ao reconhecerem a imprescindibilidade dos testes automatizados, Erich Gamma e Kent Beck desenvolveram um framework para testes unitários em Java: o [JUnit](https://junit.org/junit4/). Por conseguinte, o JUnit rapidamente o framework padrão para o desenvolvimento de testes unitários em Java. Atualmente, tal framework se trata de um software open source, introduzido sob domínio da [IBM’s Common Public License Version 1.0](https://www.ibm.com/docs/en/linux-on-z?topic=examples-common-public-license-v10) e hospedado no [SourceForge](https://sourceforge.net/) (MASSOL, 2004).

Sendo assim, o JUnit 4.11 foi utilizado neste projeto para implementar testes unitários para a funcionalidade de cálculo de desconto dos cupons por meio do padrão de design Strategy. Para cada classe concreta do Strategy, foram elaborados apenas dois casos de testes, dado que o cálculo do valor final não envolvia condicionais. Além disso, o JUnit foi utilizado junto ao [Apache Maven](https://maven.apache.org/), o qual fez o gerenciamento das dependências e foi utilizado para rodar a suíte de testes.

Portanto, para rodar os testes, é necessário instalar o [Apache Maven](https://maven.apache.org/) por meio do comando `sudo apt-get install maven` no terminal do linux. Em seguida, utilize o comando `mvn compile exec:java` na pasta `code/padroes/strategy/demo`. Dessa forma, o projeto será compilado e terá suas dependências instaladas. Por fim, para executar todos os testes, basta digitar `mvn test`, e o resultado obtido está explicitado na Figura ZZ1. Contudo, caso opte somente por executar um teste apenas, utilize do comando `mvn test -Dtest="NomeDoTeste"`, como exemplo de uso no projeto: `mvn test -Dtest="CalcDescontoValorTest"`.

<center>

Figura ZZ1 - Execução dos testes

<img src="assets/testes.png" alt="Suite de testes" width="1400"/>

<font>Fonte: [Arthur de Melo](https://github.com/arthurmlv), 2023</font>

</center>

### Banco de Dados

Um exemplo notável da reutilização de software é o uso de Sistemas de Gerenciamento de Banco de Dados para a camada de persistência de aplicações. Os SGBDs são softwares amplamente utilizados, que oferecem uma solução eficiente e confiável para o armazenamento e gerenciamento de dados. No contexto do projeto, optou-se por utilizar o SGBD relacional [MySQL 8.0](https://www.mysql.com), efetivamente reutilizando um componente de software robusto e testado, economizando tempo e recursos que seriam necessários para desenvolver um sistema de banco de dados do zero.

#### Uso do Banco

Como um exemplo desse reúso de software por meio de banco de dados, foi feita a implementação de um banco com base na modelagem definida na [Visão de Dados]() do Documento de Arquitetura de Software. Para por o banco para rodar basta seguir o passo a passo seguinte:

1. Caso ainda não tenha, faça a instalação do MySQL de acordo com a [documentação](https://dev.mysql.com/doc/refman/8.2/en/installing.html) da aplicação;
2. Inicie o servidor MySQL;
3. No repositório do projeto, especificamente no diretório [code/banco-de-dados](https://github.com/UnBArqDsw2023-2/2023.2_G7_ProjetoMagazineLuiza/tree/main/code/banco-de-dados), estão localizados os scripts SQL do banco. Execute primeiro o [cria.sql](https://github.com/UnBArqDsw2023-2/2023.2_G7_ProjetoMagazineLuiza/blob/main/code/banco-de-dados/cria.sql) para criar o banco de dados, tabelas e views, e depois o [popula.sql](https://github.com/UnBArqDsw2023-2/2023.2_G7_ProjetoMagazineLuiza/blob/main/code/banco-de-dados/popula.sql) para popular essas tabelas;
4. Se tudo tiver ocorrido bem, o banco já vai estar funcionando na base de dados magaluDB. Caso queira realizar alguns testes, o script [busca.sql](https://github.com/UnBArqDsw2023-2/2023.2_G7_ProjetoMagazineLuiza/blob/main/code/banco-de-dados/busca.sql) apresenta algumas queries SQL que seriam comuns em uma aplicação desse escopo e o script [apaga.sql](https://github.com/UnBArqDsw2023-2/2023.2_G7_ProjetoMagazineLuiza/blob/main/code/banco-de-dados/apaga.sql), que não existiria de maneira tão exposta em casos reais, serve como ferramenta para realizar testes na base de exemplo criada.

Além disso, um outro exemplo de reutilização de software na camada de persistência é o uso de views. Uma view possibilita encapsular determinadas queries SQL como se fossem tabelas, assim pesquisas comumemente realizadas na base de dados, ao invés de serem repetidas, são transformadas em views, com a pesquisa sendo feita em cima delas, ao invés disso. O exemplo de implementação do padrão de projeto [singleton]() exercita a conexão ao banco de dados com esse padrão, além do uso de views no backend. A Figura X mostra alguns exemplos de views que foram criadas no banco de dados do projeto.

<center>

Figura X - Views criadas para o projeto

<img src="assets/DiagramaReutilizacao/views.png" alt="Views criadas para o projeto" width="1400"/>

<font>Fonte: [Douglas Alves](https://github.com/dougAlvs), 2023</font>

</center>

## Conclusão



## Referências Bibliográficas

> Bourque, P., Fairley, R. E. Guide to the Software Engineering Body of Knowledge, Version 3.0. SWEBOK. IEEE Computer Society, 2014. Disponível em: http://www.computer.org/web/swebok/v3.
>
> SOMMERVILLE, Ian. Engenharia de Software. 9a. edição. Pearson, 2011.</p>
>
> KRUCHTEN, Philippe B. The 4+1 view model of architecture. IEEE software, v. 12, n. 6, p. 42-50, 1995.
>
> KRUEGER, Charles. ACM Computing Surveys. Volume 24, Issue 2, pp 131–183, 1992. Disponível em: https://doi.org/10.1145/130844.130856.
>
> MASSOL, Vincent. JUnit in action. 2004. Disponível em: https://ds.amu.edu.et/xmlui/bitstream/handle/123456789/11251/Manning.JUnit.In.Action.Oct.2003.ISBN.1930110995.pdf?sequence=1&isAllowed=y.

## Histórico de Versões

| Versão   | Descrição  | Responsável | Revisor    | Data      |
|----------|------------|-------------|------------|-----------|
| 1.0      | Criação da estrutura da página   | [Douglas Alves](https://github.com/dougAlvs)   |  [Sidney Fernando](https://github.com/nando3d3)  | 23/11/2023|
| 1.0.1     | Adição do reuso do banco   | [Douglas Alves](https://github.com/dougAlvs)   |  [Sidney Fernando](https://github.com/nando3d3)  | 23/11/2023|
| 1.0.2      | Adição da introdução   | [Arthur de Melo](https://github.com/arthurmlv)   |  [Douglas Alves](https://github.com/dougAlvs)  | 30/11/2023|
| 1.0.3      | Adição do objetivo e metodologia   | [Douglas Alves](https://github.com/dougAlvs)  |  [Sidney Fernando](https://github.com/nando3d3)  | 30/11/2023|
| 1.0.4      | Adiciona reutilização de testes   | [Arthur de Melo](https://github.com/arthurmlv)  |  [Geovanna Maciel](https://github.com/manuziny)  | 01/12/2023|
